"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7933],{66494:e=>{e.exports={getRequestOptions:function(){var e={};return window.location.href.match(/\.saymedia\.com|\.nip\.io|localhost/)&&(e.headers={Authorization:"Basic cGhvZW5peDpwaG9lbml4"}),e}}},52784:(e,t,n)=>{var o=n(24433);e.exports={getDependencyClass:function(e){if(!e)throw new Error("dependencyName required");var t=o("dependency:"+e);return window.customElements.whenDefined(e).then((function(){return t.end(),window.customElements.get(e)}))},getFirstDependencyElement:function(e,t){if(!e)throw new Error("dependencyName required");return t||(t=document),window.customElements.whenDefined(e).then((function(){var n=t.querySelector(e);if(!n)throw new Error(e+" element cannot be found");return n}))}}},86483:e=>{var t,n=function(){};try{t=window}catch(e){t={}}e.exports=t.performance&&t.performance.mark?t.performance:{getEntriesByName:n,mark:n,measure:n}},24433:(e,t,n)=>{var o=n(86483),r=0;function i(){var e="phxMark:"+r++;return o.mark(e),e}e.exports=function(e){var t=i();return{end:function(){var n=i();o.measure(e,t,n);var r=o.getEntriesByName(e);if(r&&r.length)return r[r.length-1].duration}}}},71465:(e,t,n)=>{function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=n(52784).getDependencyClass,h=n(66494);f("phoenix-page").then((function(e){var t=function(t){function n(){return i(this,n),y.apply(this,arguments)}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(n,t);var o,f,p,d,y=(p=n,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(p);if(d){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});return o=n,(f=[{key:"observedBroadcastedEvents",get:function(){return["phoenix:breakpoint:changed"]}},{key:"observedEmittedEvents",get:function(){return["phoenix:footer:seeMore:click"]}},{key:"breakpoint",get:function(){return this._breakpoint||(this._breakpoint=e.util.getCurrentBreakpoint()),this._breakpoint},set:function(e){this._breakpoint=e}},{key:"link",get:function(){return this.footerContainer.getAttribute("footer-link")}},{key:"initialSlotsToken",get:function(){return this.footerContainer.getAttribute("initial-slots")}},{key:"siteBasePath",get:function(){return this.footerContainer.getAttribute("site-base-path")}},{key:"connectedCallback",value:function(){c(s(n.prototype),"connectedCallback",this).call(this),this.initialHeight={},this.footerContainer=this.querySelector(".m-component-footer--container"),this.footerLoader=this.querySelector(".m-footer-loader"),this.initialHeight[this.breakpoint]=this.getBoundingClientRect().height,this.initialElements=this.children}},{key:"broadcastedEventCallback",value:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};"phoenix:breakpoint:changed"===e&&(this.breakpoint=null==n||null===(t=n.detail)||void 0===t?void 0:t.value,this.onBreakpointChanged())}},{key:"emittedEventCallback",value:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};"phoenix:footer:seeMore:click"===e&&(this.moreResultsToken=null==n||null===(t=n.detail)||void 0===t?void 0:t.moreResultsToken,this.onSeeMoreClick())}},{key:"onBreakpointChanged",value:function(){if(!this.initialHeight[this.breakpoint]){var e,t=0,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){u=!0,a=e},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw a}}}}(this.initialElements);try{for(n.s();!(e=n.n()).done;)t+=e.value.getBoundingClientRect().height}catch(e){n.e(e)}finally{n.f()}this.initialHeight[this.breakpoint]=t}}},{key:"invokeAngular",value:function(e){window.angular&&window.angular.element(document.body).injector().invoke(["$compile","$rootScope",function(t,n){t(e)(n),n.$$phase||n.$digest()}])}},{key:"appendStream",value:function(e,t){var n=e.parentNode;for(n.removeChild(e);t.firstChild;)n.appendChild(t.firstChild)}},{key:"buildStreamUrl",value:function(){var e=this.siteBasePath||"";return[this.siteBasePath,"/.api/stream-html",window.location.pathname.replace(e,""),"?moreResultsToken=",this.moreResultsToken,"&initialSlots=",this.initialSlotsToken,""===window.location.search?"":"&"+window.location.search.substring(1)].join("")}},{key:"fetchItems",value:function(){var e=this,t=this.buildStreamUrl(),n=h.getRequestOptions();fetch(t,n).then((function(e){return e.json()})).then((function(t){if("string"==typeof t.html&&""!==t.html){var n=document.createElement("div");n.innerHTML=t.html,e.style.setProperty("--phx-hub-loader-spacing",0),e.invokeAngular(n),e.appendStream(e.footerContainer,n),e.footerContainer=e.querySelector(".m-component-footer--container"),e.footerLoader=e.querySelector(".m-footer-loader"),window.dispatchEvent(new window.CustomEvent("contentAdded"))}})),this.footerLoader.classList.add("is-loading")}},{key:"onSeeMoreClick",value:function(){return this.link?void(window.location.href=this.link):(this.style.setProperty("--phx-hub-loader-spacing",this.initialHeight[this.breakpoint]),void this.fetchItems())}},{key:"disconnectedCallback",value:function(){c(s(n.prototype),"disconnectedCallback",this).call(this),this._removeListener()}}])&&a(o.prototype,f),n}(e.PhoenixElement);window.customElements.define("phoenix-hub",t)}))}},e=>{e(e.s=71465)}]);
//# sourceMappingURL=hub.min.js.map